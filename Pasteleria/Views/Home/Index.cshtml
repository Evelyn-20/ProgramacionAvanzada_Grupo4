@model Pasteleria.Controllers.HomeViewModel

@{
    ViewData["Title"] = "Inicio";
}

<!-- Inicio -->
<section class="hero">
    <div class="hero-content">
        <h1 class="hero-title">Endulza tus momentos especiales</h1>
        <p class="hero-subtitle">Pasteles y panes artesanales hechos con amor y los mejores ingredientes</p>
        <div class="hero-buttons">
            <a href="#productos" class="btn btn-primary">Ver Productos</a>
            <a href="#contacto" class="btn btn-secondary">Hacer Pedido</a>
        </div>
    </div>
    <div class="hero-image">
        <img src="~/images/hero-cake.jpg" alt="Pastel artesanal" />
    </div>
</section>

<!-- Características móviles -->
<section class="features">
    <div class="container">
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-cookie-bite"></i>
                </div>
                <h3>100% Artesanal</h3>
                <p>Todos nuestros productos son elaborados a mano con técnicas tradicionales</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-leaf"></i>
                </div>
                <h3>Ingredientes Naturales</h3>
                <p>Utilizamos solo ingredientes frescos y de la más alta calidad</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-truck"></i>
                </div>
                <h3>Entrega a Domicilio</h3>
                <p>Llevamos tus pedidos frescos directamente a tu puerta</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-heart"></i>
                </div>
                <h3>Hechos con Amor</h3>
                <p>Cada producto es una obra de arte hecha con pasión</p>
            </div>
        </div>
    </div>
</section>

<!-- Productos Destacados -->
<section class="featured-products" id="productos">
    <div class="container">
        <div class="section-header">
            <h2>Nuestros Productos</h2>
            <p>Descubre nuestra deliciosa selección de pasteles y panes artesanales</p>
        </div>
        <div class="products-grid">
            @if (Model.Productos != null && Model.Productos.Count > 0)
            {
                @foreach (var producto in Model.Productos.Take(6))
                {
                    @* Determinar el badge según el producto *@
                    var badge = "";
                    var badgeClass = "";

                    @* El primer producto será "Nuevo" y el tercero "Popular" *@
                    if (Model.Productos.IndexOf(producto) == 0)
                    {
                        badge = "Nuevo";
                        badgeClass = "badge";
                    }
                    else if (Model.Productos.IndexOf(producto) == 2)
                    {
                        badge = "Popular";
                        badgeClass = "badge badge-popular";
                    }

                    <div class="product-card">
                        <div class="product-image">
                            <img src="@Url.Action("ObtenerImagenProducto", "Producto", new { id = producto.IdProducto })"
                                 alt="@producto.NombreProducto" />
                            @if (!string.IsNullOrEmpty(badge))
                            {
                                <span class="@badgeClass">@badge</span>
                            }
                        </div>
                        <div class="product-info">
                            <h3>@producto.NombreProducto</h3>
                            <p>@producto.DescripcionProducto</p>
                            <div class="product-footer">
                                <span class="price">₡@producto.Precio.ToString("N0")</span>
                                <button class="btn btn-sm btn-primary" onclick="agregarAlCarrito(@producto.IdProducto)">Agregar</button>
                            </div>
                        </div>
                    </div>
                }
            }
            else
            {
                <div style="grid-column: 1 / -1; text-align: center; padding: 3rem; color: var(--text-color);">
                    <i class="fas fa-inbox" style="font-size: 4rem; color: var(--secondary-color); opacity: 0.5; display: block; margin-bottom: 1rem;"></i>
                    <p style="font-size: 1.2rem;">No hay productos disponibles en este momento</p>
                </div>
            }
        </div>

        @if (Model.Productos != null && Model.Productos.Count > 6)
        {
            <div style="text-align: center; margin-top: 2rem;">
                <a href="@Url.Action("ListadoProductos", "Producto")" class="btn btn-primary btn-lg">
                    Ver Todos los Productos <i class="fas fa-arrow-right"></i>
                </a>
            </div>
        }
    </div>
</section>

<!-- Categorías -->
<section class="categories">
    <div class="container">
        <div class="section-header">
            <h2>Categorías</h2>
            <p>Explora nuestras diferentes categorías de productos</p>
        </div>
        <div class="categories-grid">
            @if (Model.Categorias != null && Model.Categorias.Count > 0)
            {
                @foreach (var categoria in Model.Categorias.Take(4))
                {
                    <div class="category-card">
                        <div class="category-image">
                            <img src="@Url.Action("ObtenerImagenCategoria", "Categoria", new { id = categoria.IdCategoria })"
                                 alt="@categoria.NombreCategoria" />
                        </div>
                        <h3>@categoria.NombreCategoria</h3>
                        <a href="@Url.Action("Productos", "Catalogo", new { categoria = categoria.IdCategoria })"
                           class="category-link">Ver más <i class="fas fa-arrow-right"></i></a>
                    </div>
                }
            }
            else
            {
                <!-- Fallback con categorías estáticas si no hay en BD -->
                <div class="category-card">
                    <div class="category-image">
                        <img src="~/images/categoria-pasteles.jpg" alt="Pasteles" />
                    </div>
                    <h3>Pasteles</h3>
                    <a href="@Url.Action("Index", "Catalogo")" class="category-link">Ver más <i class="fas fa-arrow-right"></i></a>
                </div>
                <div class="category-card">
                    <div class="category-image">
                        <img src="~/images/categoria-panaderia.jpg" alt="Panadería" />
                    </div>
                    <h3>Panadería</h3>
                    <a href="@Url.Action("Index", "Catalogo")" class="category-link">Ver más <i class="fas fa-arrow-right"></i></a>
                </div>
                <div class="category-card">
                    <div class="category-image">
                        <img src="~/images/categoria-galletas.jpg" alt="Galletas" />
                    </div>
                    <h3>Galletas</h3>
                    <a href="@Url.Action("Index", "Catalogo")" class="category-link">Ver más <i class="fas fa-arrow-right"></i></a>
                </div>
                <div class="category-card">
                    <div class="category-image">
                        <img src="~/images/categoria-reposteria.jpg" alt="Repostería" />
                    </div>
                    <h3>Repostería</h3>
                    <a href="@Url.Action("Index", "Catalogo")" class="category-link">Ver más <i class="fas fa-arrow-right"></i></a>
                </div>
            }
        </div>

        @if (Model.Categorias != null && Model.Categorias.Count > 4)
        {
            <div style="text-align: center; margin-top: 2rem;">
                <a href="@Url.Action("Index", "Catalogo")" class="btn btn-primary btn-lg">
                    Ver Todas las Categorías <i class="fas fa-arrow-right"></i>
                </a>
            </div>
        }
    </div>
</section>

<!-- Sobre Nosotros -->
<section class="about" id="sobre-nosotros">
    <div class="container">
        <div class="about-content">
            <div class="about-image">
                <img src="~/images/sobre-nosotros.jpg" alt="Sobre Nosotros" />
            </div>
            <div class="about-text">
                <h2>Sobre Nosotros</h2>
                <p>Somos una pastelería artesanal con más de 5 años de experiencia creando momentos dulces para nuestros clientes. Cada producto es elaborado con amor, dedicación y los mejores ingredientes.</p>
                <p>Nuestra misión es endulzar tus celebraciones especiales con productos únicos que combinen sabor, calidad y belleza en cada bocado.</p>
                <ul class="about-features">
                    <li><i class="fas fa-check"></i> Productos 100% artesanales</li>
                    <li><i class="fas fa-check"></i> Ingredientes de primera calidad</li>
                    <li><i class="fas fa-check"></i> Personalización de pedidos</li>
                    <li><i class="fas fa-check"></i> Entrega puntual garantizada</li>
                </ul>
                <a href="#contacto" class="btn btn-primary">Contáctanos</a>
            </div>
        </div>
    </div>
</section>

<!-- Testimonios -->
<section class="testimonials">
    <div class="container">
        <div class="section-header">
            <h2>Lo que dicen nuestros clientes</h2>
            <p>Testimonios reales de clientes satisfechos</p>
        </div>
        <div class="testimonials-grid">
            <div class="testimonial-card">
                <div class="stars">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                </div>
                <p>"El pastel de chocolate que ordené para el cumpleaños de mi hija fue simplemente perfecto. ¡Todos quedaron encantados!"</p>
                <div class="testimonial-author">
                    <strong>María González</strong>
                    <span>Cliente verificado</span>
                </div>
            </div>
            <div class="testimonial-card">
                <div class="stars">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                </div>
                <p>"La calidad de los panes artesanales es excepcional. Se nota que usan ingredientes frescos y de primera."</p>
                <div class="testimonial-author">
                    <strong>Carlos Rodríguez</strong>
                    <span>Cliente frecuente</span>
                </div>
            </div>
            <div class="testimonial-card">
                <div class="stars">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                </div>
                <p>"Servicio impecable y productos deliciosos. Son mi pastelería favorita sin duda alguna."</p>
                <div class="testimonial-author">
                    <strong>Ana Jiménez</strong>
                    <span>Cliente satisfecho</span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Final -->
<section class="cta" id="contacto">
    <div class="container">
        <div class="cta-content">
            <h2>¿Listo para hacer tu pedido?</h2>
            <p>Contáctanos hoy y endulza tus momentos especiales</p>
            <div class="cta-buttons">
                <a href="#" class="btn btn-primary btn-lg"><i class="fab fa-whatsapp"></i> WhatsApp</a>
                <a href="#" class="btn btn-secondary btn-lg"><i class="fas fa-phone"></i> Llamar</a>
            </div>
        </div>
    </div>
</section>